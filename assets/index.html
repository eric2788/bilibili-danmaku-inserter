<!DOCTYPE html>
<head>
    <title>Bilibili Danmaku Inserter 界面</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="icons/icon.png">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    


</head>
<style>
    .color-picker {
        border: none;
        padding: 0px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
    }
    div.card-header a {
        color: black;
        text-decoration: none;
    }
</style>
<body>
    
    <nav class="navbar navbar-light navbar-dark bg-dark mb-5">
        <div class="container-fluid">
          <a class="navbar-brand">
            <img src="icons/icon.png" alt="" width="30" height="30" class="d-inline-block align-top">
              Bilibili Danmaku Inserter - 把同传弹幕插入生肉视频
        </a>
        <a href="https://github.com/eric2788" alt="eric2788">
            <button class="btn btn-outline-success">关于作者</button>
        </a>
    </nav>
    <div class="container">
        <div id="danmaku-insert">
            <h3>同传字幕转换弹幕</h3>
            <div class="card">
                <div class="card-header">
                    把同传弹幕记录插入生肉视频
                    <a href="https://github.com/eric2788/bilibili-danmaku-inserter/wiki/%E4%BD%BF%E7%94%A8%E6%95%99%E5%AD%B8" target="_blank" style="float: right;" class="btn btn-outline-info btn-sm">使用教学</a>
                </div>
                <div class="card-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <label for="basic-url" class="form-label">生肉视频网址</label>
                                <div class="input-group mb-3">
                                    <span class="input-group-text rounded-0">https://www.bilibili.com/video/</span>
                                    <input type="text" class="form-control" id="bvid" aria-describedby="bvid" placeholder="视频bvid">
                                    <span class="input-group-text rounded-0">?p=</span>
                                    <input type="number" class="form-control" placeholder="分P" id="page">
                                </div>
                                <button class="btn btn-primary" id="fetch-video-btn">
                                    获取视频资讯
                                    <div id="fetch-video-loading" class="spinner-border spinner-border-sm" role="status" style="display: none;">
                                    </div>
                                </button>
                                <small id="fetch-video-result"></small>
                            </div>
                            <div class="col-sm">
                                <ul class="list-group border border-dark list-group-flush">
                                    <li class="list-group-item">
                                        <span>视频标题: </span>
                                        <span id="video-info-title">---</span>
                                    </li>
                                    <li class="list-group-item">
                                        <span>视频分P: </span>
                                        <span id="video-info-page">---</span>
                                    </li>
                                    <li class="list-group-item">
                                        <span>视频时长: </span>
                                        <span id="video-info-duration">---</span>秒
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm">
                                <div class="row">
                                    <div class="col-sm">
                                        <label for="danmu-size">弹幕大小</label>
                                        <select class="form-select form-select-sm" id="danmu-size">
                                            <option value="small">小</option>
                                            <option value="normal" selected>中</option>
                                            <option value="large">大</option>
                                        </select>
                                    </div>
                                    <div class="col-sm">
                                        <label for="danmu-position">弹幕位置</label>
                                        <select class="form-select form-select-sm" id="danmu-position">
                                            <option value="normal" selected>滚动</option>
                                            <option value="top">置顶</option>
                                            <option value="bottom">置底</option>
                                        </select>
                                    </div>
                                    <div class="col-sm">
                                        <span for="danmu-color">颜色选择</span>
                                        <input type="color" class="form-control form-control-color form-control-sm" id="danmu-color" title="选择颜色" value="#FFFFFF">
                                    </div>
                                </div>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="danmu-sub" disabled>
                                    <label class="form-check-label" for="danmu-sub">启用字幕(暂不可用)</label>
                                </div>
                                <label for="interval-range" class="form-label">发送请求间隔(建議設置發送請求間隔為5000毫秒)</label>
                                <div class="input-group mb-3">
                                    <input class="form-control" type="number" id="interval-range" min="1000" max="10000" value="5000" aria-describedby="interval-range-help">
                                    <span class="input-group-text" id="interval-range-help">毫秒</span>
                                  </div>
                               
                                <div class="mb-3">
                                    <label for="danmaku-insert-file" class="form-label">导入JSON档案</label>
                                    <input class="form-control" type="file" id="danmaku-insert-file" accept="${parser.acceptedFormat.join(', ')}">
                                </div>
                                <button class="btn btn-primary" id="danmu-insert-btn" disabled>
                                    开始插入
                                    <div id="danmu-insert-loading" class="spinner-border spinner-border-sm" role="status" style="display: none;"></div>
                                </button>
                                <button class="btn btn-danger" id="stop-btn" disabled>中止运行</button>
                                <button class="btn btn-success" id="user-fetch-btn" disabled>
                                    获取弹幕发送者资讯
                                    <div id="user-fetch-loading" class="spinner-border spinner-border-sm" role="status" style="display: none;"></div>
                                </button>
                                <small id="user-fetch-result"></small>
                            </div>
                            <div class="col-sm">
                                <div class="border border-secondary logger-box" id="main-output">
                                    <p class="log">(输出日志: 此处将进行日志输出)</p>
                                </div>
                                <button class="btn btn-danger btn-sm" style="float: right" id="clear-log-btn">清空日志</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <h3>字幕记录转换</h3>
        <div id="danmaku-convert">
        </div>
    </div>
</body>
<style>
    .log {
        font-size: 15px;
        margin: 0px;
    }
    .logger-box {
        overflow-y: auto;
        height: 200px;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="index.js"></script>